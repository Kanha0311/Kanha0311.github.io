<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quarterly Earnings — Interactive RevealJS Deck</title>

    <!-- RevealJS core & theme (CDN quick start) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/white.css" id="theme" />

    <!-- Optional: syntax highlighting theme for code -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css" />

    <style>
      /* Custom tweaks */
      .reveal { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      .chart { width: 100%; height: calc(100vh - 240px); margin: 20px auto; }
      .subtitle { font-size: 1.1rem; opacity: 0.75; }
      .email { font-weight: 600; }
      /* Responsive base font size for large rooms */
      :root { --r-main-font-size: calc(0.65vw + 0.65vh + 0.5vmin); }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- Title Slide (includes your email) -->
        <section>
          <h1>Quarterly Earnings Report</h1>
          <p class="subtitle">Interactive presentation built with RevealJS</p>
          <p class="email">Contact: <a href="mailto:23f3003124@ds.study.iitm.ac.in">23f3003124@ds.study.iitm.ac.in</a></p>
          <aside class="notes">
            Welcome the audience, mention the agenda (results, drivers, outlook), and remind them this deck is interactive (keyboard shortcuts: S for speaker notes, O for overview).
          </aside>
        </section>

        <!-- Markdown slide (at least one required) -->
        <section data-markdown>
          <textarea data-template>
## Results at a Glance

- **Revenue**: $2.41B _(▲ 6.2% YoY)_
- **Operating Margin**: 18.4%
- **EPS (diluted)**: $1.32
- **Cash & Equivalents**: $3.8B

> Key drivers: payments volume growth, higher NIM, disciplined opex.

*Presenter tip:* Use **S** to open notes and walk through each metric.

          </textarea>
          <aside class="notes">Pause after each bullet; take questions on YoY comps.</aside>
        </section>

        <!-- Animated elements using fragments -->
        <section>
          <h2>Growth Drivers</h2>
          <ul>
            <li class="fragment">Payments volume +12% YoY</li>
            <li class="fragment">Cross-border TPV +9%</li>
            <li class="fragment fade-up">Net interest margin tailwind</li>
            <li class="fragment fade-in-then-semi-out">Operating leverage via platform consolidation</li>
          </ul>
          <aside class="notes">Reveal each item; tie to KPIs on subsequent slide.</aside>
        </section>

        <!-- Code sample with syntax highlighting -->
        <section>
          <h2>Analyst Snippet (Python)</h2>
          <pre><code class="language-python" data-line-numbers="1-3|5-10|12">
import pandas as pd
import numpy as np

# Load model inputs
q = pd.read_csv('data/quarterly.csv')

# Simple EPS bridge example
q['eps_bridge'] = (
    q['net_income'] / q['diluted_shares']
)
print(q[['quarter','eps_bridge']].tail(4))
          </code></pre>
          <aside class="notes">Explain how internal notebooks roll up into the disclosure pack.</aside>
        </section>

        <!-- Math / financial formulas -->
        <section>
          <h2>Valuation Check</h2>
          <p>Discounted Cash Flow (DCF):</p>
          <p>\[ NPV = \sum_{t=1}^{T} \frac{FCF_t}{(1 + r)^t} - Invest_0 \]</p>
          <p>Capital Asset Pricing Model (CAPM):</p>
          <p>\[ \mathbb{E}[R_i] = R_f + \beta_i (\mathbb{E}[R_m] - R_f) \]</p>
          <aside class="notes">Briefly sanity-check WACC and terminal growth assumptions.</aside>
        </section>

        <!-- Simple live demo area (optional placeholder) -->
        <section>
          <h2>KPIs Overview</h2>
          <div class="chart" id="kpi-chart"></div>
          <p class="fragment">Hover to inspect quarterly trends</p>
          <aside class="notes">Live chart renders when the slide becomes active.</aside>
        </section>

        <!-- Speaker notes example embedded in a content slide -->
        <section>
          <h2>Outlook & Guidance</h2>
          <ul>
            <li class="fragment">FY revenue growth: <em>mid-to-high single digits</em></li>
            <li class="fragment">Opex growth: <em>below revenue growth</em></li>
            <li class="fragment">Capital returns: <em>buybacks prioritized</em></li>
          </ul>
          <aside class="notes">Anchor to macro assumptions; keep forward-looking statements safe-harbored.</aside>
        </section>

        <!-- Appendix: Help & Shortcuts -->
        <section>
          <h2>Presenter Shortcuts</h2>
          <p>Press <strong>F</strong> (fullscreen), <strong>S</strong> (speaker notes), <strong>O</strong> (overview), <strong>B</strong> (pause).</p>
        </section>
      </div>
    </div>

    <!-- RevealJS core -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>

    <!-- Plugins: Markdown, Highlight, Math, Notes -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/math/math.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/notes/notes.js"></script>

    <!-- Optional: a tiny, dependency-free chart using SVG for demo -->
    <script>
      function renderMiniChart() {
        const el = document.getElementById('kpi-chart');
        if (!el || el.querySelector('svg')) return; // render once
        const w = el.clientWidth || 800, h = el.clientHeight || 360, p = 32;
        const data = [3.1, 3.4, 3.9, 4.2, 4.5, 5.1, 5.6, 6.0]; // example KPI values
        const x = (i) => p + (i * (w - 2*p)) / (data.length - 1);
        const min = Math.min(...data), max = Math.max(...data);
        const y = (v) => h - p - ((v - min) * (h - 2*p)) / (max - min || 1);
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('viewBox', `0 0 ${w} ${h}`);
        svg.setAttribute('width', '100%');
        svg.setAttribute('height', '100%');
        // axes
        const axes = document.createElementNS(svg.namespaceURI, 'path');
        axes.setAttribute('d', `M ${p} ${p} V ${h-p} H ${w-p}`);
        axes.setAttribute('fill', 'none');
        axes.setAttribute('stroke', 'currentColor');
        axes.setAttribute('stroke-width', '1');
        svg.appendChild(axes);
        // line
        let d = `M ${x(0)} ${y(data[0])}`;
        for (let i = 1; i < data.length; i++) d += ` L ${x(i)} ${y(data[i])}`;
        const path = document.createElementNS(svg.namespaceURI, 'path');
        path.setAttribute('d', d);
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', 'currentColor');
        path.setAttribute('stroke-width', '2');
        svg.appendChild(path);
        // points
        data.forEach((v,i) => {
          const c = document.createElementNS(svg.namespaceURI, 'circle');
          c.setAttribute('cx', x(i));
          c.setAttribute('cy', y(v));
          c.setAttribute('r', 4);
          c.setAttribute('fill', 'currentColor');
          svg.appendChild(c);
        });
        el.appendChild(svg);
      }
    </script>

    <!-- Initialize Reveal -->
    <script>
      Reveal.initialize({
        hash: true,
        width: 1280,
        height: 720,
        margin: 0.04,
        controls: true,
        progress: true,
        history: true,
        transition: 'slide',
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ],
        // MathJax v2 configuration (stable with Reveal 4.x)
        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js',
          config: 'TeX-AMS_HTML-full'
        }
      });

      // Render the demo chart on slide activation
      Reveal.addEventListener('slidechanged', (event) => {
        if (event.currentSlide && event.currentSlide.querySelector('#kpi-chart')) {
          renderMiniChart();
        }
      });
    </script>
  </body>
</html>
